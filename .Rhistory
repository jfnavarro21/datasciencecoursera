pollutantmean <- function(directory, pollutant, id = 1:332) {
files_list <- list.files(directory, full.names=TRUE)
dat <- data.frame()
for (i in 1:332) {
dat <- rbind(dat, read.csv(files_list[i]))
}
dat_subset <- dat[which(dat[, "ID"] == id),]
mean(dat_subset[, pollutant], na.rm=TRUE)
}
pollutantmean("specdata", "sulfate", 1:10)
head(dat_subset)
head(dat)
pollutantmean <- function(directory, pollutant, id = 1:332) {
+     files_list <- list.files(directory, full.names=TRUE)
+     dat <- data.frame()
+     for (i in 1:332) {
+         dat <- rbind(dat, read.csv(files_list[i]))
+     }}
pollutantmean <- function(directory, pollutant, id = 1:332) {
+     files_list <- list.files(directory, full.names=TRUE)
+     dat <- data.frame()
+     for (i in 1:332) {
+         dat <- rbind(dat, read.csv(files_list[i]))
+     }
pollutantmean <- function(directory, pollutant, id = 1:332) {
+     files_list <- list.files(directory, full.names=TRUE)
+     dat <- data.frame()
+     for (i in 1:332)
}
pollutantmean <- function(directory, pollutant, id = 1:332)
files_list <- list.files(directory, full.names=TRUE)
str(files.list)
files_list <- list.files("specdata", full.names=TRUE)
str(files_list)
head(files_list)
tail(files_list)
dat <- data.frame()
for (i in 1:332) {
dat <- rbind(dat, read.csv(files_list[i]))
}
str(dat)
head(dat)
tail(dat)
dat_subset <- dat[which(dat[, "ID"] == id),]
dat_subset <- dat[which(dat[, "ID"] == 332),]
head(dat_subset)
str(dat_subset)
mean(dat_subset[, nitrate], na.rm=TRUE)
mean(dat_subset[, "nitrate"], na.rm=TRUE)
dat_subset <- dat[which(dat[, "ID"] == 23),]
mean(dat_subset[, "nitrate"], na.rm=TRUE)
dat_subset <- dat[which(dat[, "ID"] == 70:72),]
mean(dat_subset[, "nitrate"], na.rm=TRUE)
head(dat_subset)
tail(dat_subset)
str(dat_subset)
summary(dat_subset)
pollutantmean <- function(directory, pollutant, id = 1:332) {
files_list <- list.files(directory, full.names=TRUE)
dat <- data.frame()
for (i in 1:332) {
dat <- rbind(dat, read.csv(files_list[i]))
}
dat_subset <- dat[which(dat[dat$ID] == id),]
mean(dat_subset[, pollutant], na.rm=TRUE)
}
pollutantmean("specdata", "nitrate", 1:10)
pollutantmean <- function(directory, pollutant, id = 1:332) {
files_list <- list.files(directory, full.names=TRUE)
dat <- data.frame()
for (i in 1:332) {
dat <- rbind(dat, read.csv(files_list[i]))
}
dat_subset <- dat[which(dat[, "ID"] == id),]
mean(dat_subset[, pollutant], na.rm=TRUE)
}
pollutantmean <- function(directory, pollutant, id = 1:332) {
files_list <- list.files(directory, full.names=TRUE)
dat <- data.frame()
for (i in 1:332) {
dat <- rbind(dat, read.csv(files_list[i]))
}
dat_subset <- dat[which(dat[dat$ID] == id),]
mean(dat_subset[, pollutant], na.rm=TRUE)
}
pollutantmean("specdata", "nitrate", 1:10)
pollutantmean <- function(directory, pollutant, id = 1:332) {
files_list <- list.files(directory, full.names=TRUE)
dat <- data.frame()
for (i in 1:332) {
dat <- rbind(dat, read.csv(files_list[i]))
}
dat_subset <- dat[which(dat[, "ID"] == id),]
mean(dat_subset[, pollutant], na.rm=TRUE)
}
pollutantmean <- function(directory, pollutant, id = 1:332) {
files_list <- list.files(directory, full.names=TRUE)
dat <- data.frame()
for (i in 1:332) {
dat <- rbind(dat, read.csv(files_list[i]))
}
dat_subset <- dat[which(dat[, "ID"] == id),]
mean(dat_subset[, pollutant], na.rm=TRUE)
}
pollutantmean("specdata", "nitrate", 1:10)
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean("specdata", "nitrate", 23)
head(dat)
tail(dat)
pollutantmean <- function(directory, pollutant, id) {
files_list <- list.files(directory, full.names=TRUE)
dat <- data.frame()
for (i in 1:332) {
dat <- rbind(dat, read.csv(files_list[i]))
}
dat_subset <- dat[which(dat[, "ID"] == id),]
mean(dat_subset[, pollutant], na.rm=TRUE)
}
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean <- function(directory, pollutant, id = 1:332) {
}
pollutantmean <- function(directory, pollutant, id = 1:332) {
files_list <- list.files(directory, full.names=TRUE)
dat <- data.frame()
for (i in id) {
dat <- rbind(dat, read.csv(files_list[i]))
}
dat_subset <- dat[which(dat[, "ID"] == id),]
mean(dat_subset[, pollutant], na.rm=TRUE)
}
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean <- function(directory, pollutant, id = 1:332) {
files_list <- list.files(directory, full.names=TRUE)
dat <- data.frame()
for (i in id) {
}
dat_subset <- dat[which(dat[, "ID"] == id),]
mean(dat_subset[, pollutant], na.rm=TRUE)
}
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean <- function(directory, pollutant, id = 1:332) {
files <- list.files(directory, pattern=".csv", full.names=TRUE)
values <- numeric()
#Read pollutant data values and append
for (i in id) {
data <- read.csv(files[i], header=TRUE)
values <- c(values, data[[pollutant]])
}
#Compute mean for all available data and format print
mean <- mean(values, na.rm=TRUE)
formatC(mean, digits=3, format="f")
print(mean)
}
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean <- function(directory, pollutant, id = 1:332) {
files <- list.files(directory, pattern=".csv", full.names=TRUE)
values <- numeric()
#Read pollutant data values and append
for (i in id) {
data <- read.csv(files[i], header=TRUE)
values <- c(values, data[[pollutant]])
}
#Compute mean for all available data and format print
mean <- mean(values, na.rm=TRUE)
print(formatC(mean, digits=3, format="f"))
print(mean)
}
pollutantmean("specdata", "sulfate", 1:10)
?list.files
files
print(files)
files <_ list.files(directory, pattern=".csv", full.names = TRUE)
files <- list.files(directory, pattern=".csv", full.names = TRUE)
files <- list.files("specdata", pattern=".csv", full.names = TRUE)
files
files <- list.files("specdata", pattern=".csv", full.names = FALSE)
files
pollutantmean("specdata", "sulfate", 1:10)
?numeric()
?read.csv
?for
{}
?c()
?download.file
downlad.file(https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv, \Documents\R)
download.file(https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv, \Documents\R)
download.file("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv", "\Documents\R")
download.file("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv", destfile = "\Documents\household")
download.file("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv", destfile = "\household")
download.file("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv", destfile = "household")
download.file("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv", destfile = "household.csv")
str(household.csv)
read.csv(household.csv, header = TRUE)
wd
wd()
getwd
getwd()
read.csv("household.csv", header = TRUE)
hh <- read.csv("household.csv", header = TRUE)
str(hh)
head(hh)
tail(hh)
hh$VAL
str(hh$val)
summary(hh$val)
highval <- hh[, hh$val ==  24]
highval
highval <- hh[, hh$val ==  23]
highval
highval <- hh[, hh$val ==  6]
highval
head(highval)
highval <- hh$VAL
highval
summary(highval)
str(highval)
highval24 <- highval[=24]
highval24 <- highval[val=24]
highval24
highval24 <- highval[highval=24]
highval24
highval24 <- highval["24"]
highval24
head(hh)
highval24 <- hh[, hh$val == 24]
highval24
subset(hh, VAL == 24)
head(hh)
hv24 <- hh[, hh$VAL == 24]
print(hh$VAL)
hv24 <- hh[, hh$val == 24]
nrow(hv24)
hv21
hhv24
hv24
print(hv24)
hv24 <- hh[, hh$VAL == 24]
head(hh)
print(hh$VAL)
nrow(hh, hh$VAL == 24)
nrow(subset(hh, hh$VAL == 24))
hh[hh$VAL == 24,]
hh24 <- hh[hh$VAL == 24,]
nrow(hh24)
download.file("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv", destfile = "household.csv")
download.file("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FDATA.gov_NGAP.xlsx", destfile = "natgas.xlsx")
natgas <- read.xslx("natgas.xlsx", sheetIndex=1, header=TRUE)
natgas <- read.xlsx("natgas.xlsx", sheetIndex=1, header=TRUE)
?xlsx package
?read.xlsx()
install.packages('xlsx')
natgas <- read.xlsx("natgas.xlsx", sheetIndex=1, header=TRUE)
natgas <- read.xlsx2("natgas.xlsx", sheetIndex=1, header=TRUE)
?read.xlsx2()
outcome
ls()
getwd()
setwd("C:/Users/JohntheGreat/Documents/R")
getwd()
ls
ls()
data <- read.csv(outcome-of-care-measures, header = TRUE)
data <- read.csv("outcome-of-care-measures"", header = TRUE)
data <- read.csv("outcome-of-care-measures", header = TRUE)
data <- read.csv("outcome-of-care-measures.CSV", header = TRUE)
head(data)
colnames(data)
data$7
data[7]
outcome[7,9,11]
data[7,9,11]
data[,7]
data[7]
data[,7]
data[,c(7,9,11)]
data2 <- data[,c(7,9,11)]
head(data2)
ncol(data)
?colnames
data[data$state = TX]
subset(?)
?subset()
subset(data, data$state = TX,)
subset(data, data$state == TX,)
subset(data, data$state == "TX",)
subset(data, data$state)
subset(data, data$state == "TX")
subset(data, state == "TX")
subset(data, State == "TX")
TXdf <- subset(data, State == "TX")
head(TX_df)
head(TXdf)
colnames(data)
keepcols <- c("State", "Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack", "Hospital.30.Day.Death..Mortality..Rates.from.Heart.Failure", "Hospital.30.Day.Death..Mortality..Rates.from.Pneumonia")
TXdf <- subset(data, State == "TX", select = keepcols)
head(TXdf)
names(TXdf)  <- c("State", "Heart attack", "Heart failure", "Pneumonia")
head(TXdf)
order <- order(TXdf$Heart attack, decreasing = TRUE)
names(TXdf)  <- c("State", "Heart_attack", "Heart_failure", "Pneumonia")
order <- order(TXdf$Heart_attack, decreasing = TRUE)
head(order)
order
positions <- order(TXdf$Heart_attack, decreasing = TRUE)
largest_first_df <- TXdf[positions, ]
largest_first_df
positions <- order(TXdf$Heart_attack, decreasing = TRUE, na.rm = TRUE)
positions <- order(TXdf$Heart_attack, decreasing = TRUE)
positions <- order(TXdf$Heart_attack, increasing = TRUE)
positions <- order(TXdf$Heart_attack, decreasing = TRUE)
largest_first_df <- TXdf[positions, ]
length(TXdf)
length(TXdf$Heart_attack)
print(TXdf[370, 2])
TXdf[1,3]
tail(largest_first_df)
colnames(data)
keepcols <- c("Hospital.Name","State", "Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack", "Hospital.30.Day.Death..Mortality..Rates.from.Heart.Failure", "Hospital.30.Day.Death..Mortality..Rates.from.Pneumonia")
TXdf <- subset(data, State == "TX", select = keepcols)
names(TXdf)  <- c("State", "Heart_attack", "Heart_failure", "Pneumonia")
positions <- order(TXdf$Heart_attack, decreasing = TRUE)
largest_first_df <- TXdf[positions, ]
tail(largest_first_df)
head(largest_first_df)
positions <- order(TXdf$Heart_attack, decreasing = FALSE)
largest_first_df <- TXdf[positions, ]
head(largest_first_df)
positions <- order(TXdf$Heart_attack, decreasing = TRUE)
largest_first_df <- TXdf[positions, ]
largest_first_df
names(TXdf)  <- c("Hospital_Name","State", "Heart_attack", "Heart_failure", "Pneumonia")
positions <- order(TXdf$Heart_attack, decreasing = TRUE)
largest_first_df <- TXdf[positions, ]
largest_first_df
positions <- order(TXdf$Heart_attack, decreasing = FALSE, na.last = NA)
largest_first_df <- TXdf[positions, ]
largest_first_df
largest_first_df[1,1]
name  <- largest_first_df[1,1]
print(name)
largest_first_df(1,1)
positions <- order(TXdf$Heart_attack, TXdf$Hospital_Name, decreasing = FALSE, na.last = NA)
largest_first_df <- TXdf[positions, ]
largest_first_df
source('~/R/best.R')
source('~/R/best.R')
data[7]
data[,7]
AL %in% data[7] == TRUE
AL %in% data[,7] == TRUE
"AL" %in% data[,7] == TRUE
"AL" %in% data[7] == TRUE
"IL" %in% data[7]
"IL" %in% data[,7]
source('~/R/best.R')
best("chicago", "heart attack")
best("IL", "heart attack")
source('~/R/best.R')
colnames(data)
TXdf <- subset(data, State == "TX", select = keepcols)
head(TXdf)
source('~/R/best.R')
best("IL", "heart attack")
source('~/R/best.R')
best("IL", "heart attack")
source('~/R/best.R')
best("IL", "heart attack")
source('~/R/best.R')
best("IL", "heart attack")
source('~/R/best.R')
best("IL", "heart attack")
best("TX", "heart attack")
best("TX", "heart failure")
best("MD", "pneumonia")
head(data)
keepcols <- c("Hospital.Name", "State", "Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack", "Hospital.30.Day.Death..Mortality..Rates.from.Heart.Failure", "Hospital.30.Day.Death..Mortality..Rates.from.Pneumonia")
statedf <- subset(data, State == state, select = keepcols)
statedf <- subset(data, State == TX, select = keepcols)
statedf <- subset(data, State == "TX", select = keepcols)
names(statedf)  <- c("Hospital name","State", "heart attack", "heart failure", "pneumonia")
head(statedf)
positions <- order(statedf[[outcome]], statedf[["Hospital name"]], decreasing = FALSE, na.last = TRUE)
positions <- order(statedf[["heart attack"]], statedf[["Hospital name"]], decreasing = FALSE, na.last = TRUE)
positions
largest_first_df <- statedf[positions, ]
largest_first_df
head(largest_first_df)
tail(largest_first_df)
head(largest_first_df, 20)
positions <- order(statedf[["heart failure"]], statedf[["Hospital name"]], decreasing = FALSE, na.last = TRUE)
largest_first_df <- statedf[positions, ]
head(largest_first_df, 20)
"FORT DUNCAN MEDICAL CENTER" %in% largest_first_df
"GRACE MEDICAL CENTER" %in% largest_first_df
"GRACE MEDICAL CENTER" %in% largest_first_df[,1]
"FORT DUNCAN MEDICAL CENTER" %in% largest_first_df[,1]
colnames(data)
largest_first_df
min(largest_first_df[["heart attack"]]
)
head(largest_first_df)
min(largest_first_df[["heart attack"]], na.rm = TRUE)
largest_first_df[["heart attack"]]
as.numeric(largest_first_df[["heart attack"]])
min(as.numeric(largest_first_df[["heart attack"]]))
head(largest_first_df)
largest_first_df[, 4]
min(largest_first_df[, 4])
min(largest_first_df[, 4], na.rm = TRUE)
min(largest_first_df[, 4], na.rm = TRUE, header = TRUE)
source('~/R/best.R')
best("TX","heart failure")
best("MD", "pneumonia")
as.numeric("bananas")
as.numeric("not available")
source('~/R/best.R')
bad <- is.na(largest_first_df[["heart attack"]])
largest_first_df[!bad,]
head(largest_first_df[!bad,])
largest_first_df[!is.na[largest_first_df$heart attack, ]
largest_first_df[!is.na[largest_first_df$`heart attack`,]
]
largest_first_df[!is.na[largest_first_df[["heart attack"]],]
]
largest_first_df[!is.na[largest_first_df[["heart attack"]]]
]
largest_first_df[,!is.na[largest_first_df[["heart attack"]]]]
largest_first_df[largest_first_df[["heart attack"]] != "Not Available"]
largest_first_df[largest_first_df[["heart attack"]] != "Not Available", ]
source('~/R/best.R')
source('~/R/best.R')
largest_first_df[largest_first_df[["heart attack"]] != "Not Available", ]
source('~/R/best.R')
source('~/R/best.R')
best("MD", "pneumonia")
source('~/R/best.R')
source('~/R/best.R')
source('~/R/best.R')
source('~/R/best.R')
